<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>我的每日穿搭鏡</title>
    <style>
        body { font-family: sans-serif; display: flex; background: #f4f4f4; margin: 0; }
        #control-panel { width: 300px; padding: 20px; background: white; height: 100vh; box-shadow: 2px 0 5px rgba(0,0,0,0.1); }
        #display-room { flex: 1; display: flex; justify-content: center; align-items: center; background: #e0e0e0; position: relative; }
        
        /* 人物容器 */
        .character-container {
            position: relative;
            width: 300px;
            height: 600px;
            transition: transform 0.3s ease; /* 體型變化動畫 */
        }

        /* 疊層圖片通用設定 */
        .layer {
            position: absolute;
            width: 100%;
            height: 100%;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        .input-group { margin-bottom: 15px; }
        select, button { width: 100%; padding: 10px; margin-top: 5px; border-radius: 5px; border: 1px solid #ddd; }
        .wardrobe { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; }
        button { cursor: pointer; background: #fff; transition: 0.2s; }
        button:hover { background: #eee; }
    </style>
</head>
<body>

<div id="control-panel">
    <h3>1. 設定我的體型</h3>
    <div class="input-group">
        <label>身高 (cm)</label>
        <select id="h-select"></select>
    </div>
    <div class="input-group">
        <label>體重 (kg)</label>
        <select id="w-select"></select>
    </div>

    <hr>
    <h3>2. 今日衣櫥</h3>
    <div class="wardrobe">
        <button onclick="changeCloth('top', 'https://path-to-shirt-1.png')">白色 T-shirt</button>
        <button onclick="changeCloth('top', 'https://path-to-shirt-2.png')">黑色衛衣</button>
        <button onclick="changeCloth('bottom', 'https://path-to-jeans.png')">牛仔褲</button>
        <button onclick="changeCloth('bottom', 'https://path-to-shorts.png')">短褲</button>
    </div>
</div>

<div id="display-room">
    <div class="character-container" id="person">
        <div class="layer" id="body-layer" style="background-image: url('https://cdn-icons-png.flaticon.com/512/4042/4042356.png'); opacity: 0.5;"></div>
        <div class="layer" id="top-layer"></div>
        <div class="layer" id="bottom-layer"></div>
    </div>
</div>

<script>
    const hSelect = document.getElementById('h-select');
    const wSelect = document.getElementById('w-select');
    const person = document.getElementById('person');

    // 初始化選單
    for(let i=150; i<=180; i++) hSelect.add(new Option(i, i));
    for(let i=40; i<=90; i++) wSelect.add(new Option(i, i));
    hSelect.value = 165; wSelect.value = 60;

    function updateShape() {
        const h = hSelect.value;
        const w = wSelect.value;

        // 計算縮放：以 165cm, 60kg 為 1.0 基準
        const scaleY = h / 165; 
        const scaleX = Math.sqrt(w / 60); // 體重對寬度的影響

        person.style.transform = `scale(${scaleX}, ${scaleY})`;
    }

    function changeCloth(layer, url) {
        document.getElementById(layer + '-layer').style.backgroundimage = `url('${url}')`;
    }

    [hSelect, wSelect].forEach(el => el.addEventListener('change', updateShape));
    updateShape();
</script>

</body>
</html>
